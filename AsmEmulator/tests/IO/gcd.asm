DEFINE PRINT
LOAD R8=0
LOAD R9=M[R8]
BRANCH BEQ R8, R9, PC+24
LOAD R9=M[R8]
JUMP PC-16
STORE M[R8]=R4
RET
END
DEFINE CHAR_TO_DIG
ALU RV=R0-48
RET
END
DEFINE PRINTN
ALU SP=SP-2
LOAD R2=48
LOAD R3=0
ALU R4=R1/10
ALU R4=R4*10
ALU R4=R1-R4
ALU R4=R4+R2
ALU R1=R1/10
BRANCH BGT R1, R3, PC+32
CALL PRINT
ALU SP=SP+2
RET
STORE M[SP]=R4
CALL PRINTN
LOAD R4=M[SP]
CALL PRINT
ALU SP=SP+2
RET
END
DEFINE READ_NUM
ALU SP=SP-32
LOAD R3=0
LOAD R0=0
LOAD R1=2
BRANCH BNE R0, R0, PC+0
LOAD R2=0
BRANCH BNE R0, R2, PC+24
LOAD R2=M[R1]
JUMP PC-16
STORE M[SP]=R3
STORE M[SP+2]=R2
STORE M[SP+4]=R1
STORE M[SP+6]=R0
ALU R4=R2
CALL PRINT
LOAD R3=M[SP]
LOAD R2=M[SP+2]
LOAD R1=M[SP+4]
LOAD R0=M[SP+6]
STORE M[R1]=0
LOAD R0=10
BRANCH BEQ R2, R0, PC+56
ALU R0=R2
CALL CHAR_TO_DIG
LOAD R0=0
ALU R3=R3*10
ALU R3=R3+RV
JUMP PC-184
ALU RV=R3
ALU SP=SP+32
RET
END
DEFINE GCD
LOAD R9=0
BRANCH BNE R1, R9, PC+24
ALU RV=R0
RET
ALU R2=R0/R1
ALU R2=R1*R2
ALU R2=R0-R2
ALU R0=R1
ALU R1=R2
CALL GCD
RET
END
LOAD R4=70
CALL PRINT
LOAD R4=105
CALL PRINT
LOAD R4=114
CALL PRINT
LOAD R4=115
CALL PRINT
LOAD R4=116
CALL PRINT
LOAD R4=32
CALL PRINT
LOAD R4=110
CALL PRINT
LOAD R4=117
CALL PRINT
LOAD R4=109
CALL PRINT
LOAD R4=98
CALL PRINT
LOAD R4=101
CALL PRINT
LOAD R4=114
CALL PRINT
LOAD R4=58
CALL PRINT
LOAD R4=32
CALL PRINT
CALL READ_NUM
ALU R7=RV
LOAD R4=83
CALL PRINT
LOAD R4=101
CALL PRINT
LOAD R4=99
CALL PRINT
LOAD R4=111
CALL PRINT
LOAD R4=110
CALL PRINT
LOAD R4=100
CALL PRINT
LOAD R4=32
CALL PRINT
LOAD R4=110
CALL PRINT
LOAD R4=117
CALL PRINT
LOAD R4=109
CALL PRINT
LOAD R4=98
CALL PRINT
LOAD R4=101
CALL PRINT
LOAD R4=114
CALL PRINT
LOAD R4=58
CALL PRINT
LOAD R4=32
CALL PRINT
CALL READ_NUM
ALU R6=RV
ALU R0=R7
ALU R1=R6
CALL GCD
LOAD R4=71
CALL PRINT
LOAD R4=67
CALL PRINT
LOAD R4=68
CALL PRINT
LOAD R4=58
CALL PRINT
LOAD R4=32
CALL PRINT
ALU R1=RV
CALL PRINTN