DEFINE PRINT
LOAD R8=0
LOAD R9=M[R8]
BRANCH BEQ R8, R9, PC+24
LOAD R9=M[R8]
JUMP PC-16
STORE M[R8]=R4
RET
END
DEFINE PRINTN
ALU SP=SP-2
LOAD R2=48
LOAD R3=0
ALU R4=R1/10
ALU R4=R4*10
ALU R4=R1-R4
ALU R4=R4+R2
ALU R1=R1/10
BRANCH BGT R1, R3, PC+32
CALL PRINT
ALU SP=SP+2
RET
STORE M[SP]=R4
CALL PRINTN
LOAD R4=M[SP]
CALL PRINT
ALU SP=SP+2
RET
END
DEFINE GCD
LOAD R9=0
BRANCH BNE R1, R9, PC+24
ALU RV=R0
RET
ALU R2=R0/R1
ALU R2=R1*R2
ALU R2=R0-R2
ALU R0=R1
ALU R1=R2
CALL GCD
RET
END
LOAD R1=72
LOAD R0=12
CALL GCD
ALU R1=RV
CALL PRINTN