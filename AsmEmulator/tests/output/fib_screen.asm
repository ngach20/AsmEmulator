DEFINE FACT
ALU SP=SP-2
LOAD R2=1
BRANCH BGT R1, R2, PC+32
ALU SP=SP+2
LOAD RV=1
RET
STORE M[SP]=R1
ALU R1=R1-1
CALL FACT
LOAD R1=M[SP]
ALU SP=SP+2
ALU RV=R1*RV
RET
END
DEFINE PRINT
LOAD R6=M[R5]
BRANCH BEQ R5, R6, PC+24
LOAD R6=M[R5]
JUMP PC-16
STORE M[R5]=R4
RET
END
DEFINE PRINTN
ALU SP=SP-2
LOAD R2=48
LOAD R3=0
ALU R4=R1/10
ALU R4=R4*10
ALU R4=R1-R4
ALU R4=R4+R2
ALU R1=R1/10
BRANCH BGT R1, R3, PC+32
CALL PRINT
ALU SP=SP+2
RET
STORE M[SP]=R4
CALL PRINTN
LOAD R4=M[SP]
CALL PRINT
ALU SP=SP+2
RET
END
LOAD R1=6
CALL FACT
ALU R1=RV
CALL PRINTN